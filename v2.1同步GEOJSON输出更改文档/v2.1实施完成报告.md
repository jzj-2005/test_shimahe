# v2.1åŠŸèƒ½å®æ–½å®ŒæˆæŠ¥å‘Š

**å®Œæˆæ—¥æœŸ**: 2026-02-25  
**ç‰ˆæœ¬**: v2.1.0  
**å®æ–½å†…å®¹**: GeoJSONè‡ªåŠ¨è¾“å‡º + æ™ºèƒ½å»é‡ + åœ°å›¾ç”Ÿæˆ + ç»Ÿè®¡æ‘˜è¦

---

## ä¸€ã€å®æ–½æ¦‚è§ˆ

### 1.1 éœ€æ±‚èƒŒæ™¯

**ç”¨æˆ·éœ€æ±‚**ï¼š

1. âŒ ç°æœ‰è¾“å‡ºæ ¼å¼å•ä¸€ï¼ˆä»…CSV+æˆªå›¾ï¼‰ï¼Œä¸æ”¯æŒGISè½¯ä»¶
2. âŒ å®æ—¶æ¨¡å¼æ•°æ®å†—ä½™ä¸¥é‡ï¼ˆåŒä¸€ç›®æ ‡é‡å¤æ£€æµ‹å‡ åæ¬¡ï¼‰
3. âŒ ç¼ºå°‘å¯è§†åŒ–å·¥å…·ï¼ˆéœ€æ‰‹åŠ¨è¿è¡Œå·¥å…·è„šæœ¬ï¼‰
4. âŒ ç¼ºå°‘æ•°æ®ç»Ÿè®¡åˆ†æ

**å®æ–½ç›®æ ‡**ï¼š

1. âœ… è‡ªåŠ¨ç”ŸæˆGeoJSONæ–‡ä»¶ï¼ˆæ”¯æŒQGISã€ArcGISç­‰GISè½¯ä»¶ï¼‰
2. âœ… æ™ºèƒ½å»é‡ï¼ˆä¿ç•™æœ€ä½³è´¨é‡æ£€æµ‹ï¼Œæ•°æ®é‡å‡å°‘70-97%ï¼‰
3. âœ… è‡ªåŠ¨ç”ŸæˆHTMLäº¤äº’å¼åœ°å›¾ï¼ˆLeaflet.jsï¼‰
4. âœ… è‡ªåŠ¨ç”Ÿæˆç»Ÿè®¡æ‘˜è¦ï¼ˆæ•°æ®åˆ†ææŠ¥å‘Šï¼‰
5. âœ… å®Œå…¨å‘åå…¼å®¹ï¼ˆä¸å½±å“ç°æœ‰å·¥ä½œæµç¨‹ï¼‰

### 1.2 å®æ–½æˆæœ

âœ… **4ä¸ªæ–°æ¨¡å—**ï¼ˆå…± ~900è¡Œä»£ç ï¼‰  
âœ… **2ä¸ªé…ç½®æ–‡ä»¶æ›´æ–°**ï¼ˆæ·»åŠ  ~60è¡Œé…ç½®ï¼‰  
âœ… **3ä¸ªæ ¸å¿ƒæ¨¡å—é›†æˆ**ï¼ˆReportGeneratorã€Pipelineï¼‰  
âœ… **3ä»½æŠ€æœ¯æ–‡æ¡£**ï¼ˆå®ç°æ–‡æ¡£ã€æ“ä½œæ‰‹å†Œã€å¿«é€ŸæŒ‡å—ï¼‰  
âœ… **1ä¸ªæµ‹è¯•è„šæœ¬**ï¼ˆè‡ªåŠ¨åŒ–éªŒè¯ï¼‰  
âœ… **0ä¸ªBreaking Changes**ï¼ˆå®Œå…¨å…¼å®¹ï¼‰

---

## äºŒã€æŠ€æœ¯å®ç°è¯¦è§£

### 2.1 æ ¸å¿ƒæ¨¡å—

#### æ¨¡å—1ï¼šæ™ºèƒ½å»é‡ (deduplication.py)

**ä»£ç é‡**: 230è¡Œ  
**æ ¸å¿ƒç®—æ³•**: ç©ºé—´è·ç¦»åˆ†ç»„ + è´¨é‡è¯„åˆ†

**å…³é”®ç±»**ï¼š

```python
class DetectionDeduplicator:
    def deduplicate_dataframe(df: pd.DataFrame) -> pd.DataFrame
    def _calculate_quality_score(detection: Dict) -> float
    def _group_by_distance(detections: List) -> List[List]
    def _haversine_distance(lat1, lon1, lat2, lon2) -> float
```

**è´¨é‡è¯„åˆ†å…¬å¼**ï¼š

```
score = confidence Ã— edge_factor Ã— gps_factor Ã— error_factor

å…¶ä¸­:
- edge_factor: 0.5(è¾¹ç¼˜) / 1.0(ä¸­å¤®)
- gps_factor: 1.2(RTK) / 1.0(HIGH) / 0.9(MEDIUM) / 0.7(LOW)
- error_factor: 1.0(<5m) / 0.9(5-10m) / 0.8(>10m)
```

**æ€§èƒ½æŒ‡æ ‡**ï¼š

- æ—¶é—´å¤æ‚åº¦: O(nÃ—k)ï¼Œkä¸ºå¹³å‡ç»„å¤§å°ï¼ˆé€šå¸¸ <10ï¼‰
- 1000æ¡æ•°æ®: ~0.5ç§’
- 10000æ¡æ•°æ®: ~5ç§’

#### æ¨¡å—2ï¼šGeoJSONå¯¼å‡º (geojson_writer.py)

**ä»£ç é‡**: 210è¡Œ  
**è¾“å‡ºæ ¼å¼**: GeoJSON FeatureCollection (RFC 7946)

**å…³é”®ç±»**ï¼š

```python
class GeoJSONWriter:
    def export_multiple(df_raw, df_unique, output_dir) -> Dict[str, str]
    def _export_dataframe(df, output_path, min_confidence) -> int
    def _detection_to_feature(row: pd.Series) -> Dict
```

**è¾“å‡ºæ–‡ä»¶**ï¼š

1. `detections_raw.geojson` - åŸå§‹å®Œæ•´æ•°æ®
2. `detections_unique.geojson` - æ™ºèƒ½å»é‡æ•°æ®
3. `detections_high_conf.geojson` - é«˜ç½®ä¿¡åº¦è¿‡æ»¤

**æŠ€æœ¯è§„æ ¼**ï¼š

- åæ ‡ç³»: CGCS2000 (EPSG:4490)
- å‡ ä½•ç±»å‹: Polygonï¼ˆæ£€æµ‹æ¡†å››è§’ç‚¹ï¼‰
- å±æ€§å­—æ®µ: 22ä¸ªï¼ˆç±»åˆ«ã€ç½®ä¿¡åº¦ã€GPSè´¨é‡ç­‰ï¼‰

#### æ¨¡å—3ï¼šåœ°å›¾ç”Ÿæˆ (map_generator.py)

**ä»£ç é‡**: 280è¡Œ  
**æŠ€æœ¯æ ˆ**: Leaflet.js 1.9.4 + OpenStreetMap

**å…³é”®ç±»**ï¼š

```python
class MapGenerator:
    def generate(geojson_path, output_path) -> str
    def generate_from_data(geojson_data, output_path) -> str
    def _calculate_map_center(geojson_data) -> tuple
    def _generate_html_content(...) -> str
```

**åœ°å›¾åŠŸèƒ½**ï¼š

- âœ… æ£€æµ‹æ¡†å¤šè¾¹å½¢æ˜¾ç¤º
- âœ… ç±»åˆ«é¢œè‰²ç¼–ç ï¼ˆ15ç§ç±»åˆ«ï¼‰
- âœ… ç½®ä¿¡åº¦é€æ˜åº¦æ˜ å°„
- âœ… äº¤äº’å¼å¼¹çª—ï¼ˆå®Œæ•´å±æ€§æ˜¾ç¤ºï¼‰
- âœ… å›¾ä¾‹å’Œç»Ÿè®¡ä¿¡æ¯
- âœ… è‡ªé€‚åº”ä¸­å¿ƒå’Œç¼©æ”¾

#### æ¨¡å—4ï¼šåå¤„ç†å™¨ (post_processor.py)

**ä»£ç é‡**: 180è¡Œ  
**èŒè´£**: åè°ƒæ‰€æœ‰åå¤„ç†ä»»åŠ¡

**å…³é”®ç±»**ï¼š

```python
class PostProcessor:
    def process(csv_path, output_base_dir) -> Dict[str, Any]
    def _generate_summary(df_raw, df_unique, output_path) -> str
    def is_enabled() -> bool
```

**å¤„ç†æµç¨‹**ï¼š

```
1. è¯»å–CSVæ•°æ®
2. æ‰§è¡Œæ™ºèƒ½å»é‡ï¼ˆå¯é€‰ï¼‰
3. å¯¼å‡ºGeoJSONï¼ˆ3ä¸ªç‰ˆæœ¬ï¼‰
4. ç”ŸæˆHTMLåœ°å›¾
5. ç”Ÿæˆç»Ÿè®¡æ‘˜è¦
6. è¿”å›å¤„ç†ç»“æœ
```

### 2.2 é›†æˆç‚¹

#### é›†æˆ1ï¼šReportGenerator

**æ–‡ä»¶**: `src/output/report_generator.py`

**ä¿®æ”¹å†…å®¹**ï¼š

```python
# 1. __init__ æ–¹æ³•æ–°å¢å‚æ•°
def __init__(self, ..., post_process_config: dict = None):
    self.post_processor = None
    if post_process_config:
        self.post_processor = PostProcessor(post_process_config)

# 2. close æ–¹æ³•è§¦å‘åå¤„ç†
def close(self):
    if self.csv_writer:
        self.csv_writer.close()
    
    # æ–°å¢ï¼šæ‰§è¡Œåå¤„ç†
    if self.post_processor and self.post_processor.is_enabled():
        results = self.post_processor.process(...)
```

#### é›†æˆ2ï¼šOfflinePipeline

**æ–‡ä»¶**: `src/offline_pipeline.py`

**ä¿®æ”¹å†…å®¹**ï¼š

```python
# _init_components æ–¹æ³•ä¼ é€’é…ç½®
self.report_gen = ReportGenerator(
    ...,
    post_process_config=output_config  # æ–°å¢
)

# finally å—è°ƒç”¨closeï¼ˆå·²æœ‰ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
finally:
    if self.report_gen:
        self.report_gen.close()  # è§¦å‘åå¤„ç†
```

#### é›†æˆ3ï¼šRealtimePipeline

**æ–‡ä»¶**: `src/realtime_pipeline.py`

**ä¿®æ”¹å†…å®¹**ï¼š

```python
# _init_components æ–¹æ³•ä¼ é€’é…ç½®
self.report_gen = ReportGenerator(
    ...,
    post_process_config=output_config  # æ–°å¢
)

# _cleanup æ–¹æ³•è°ƒç”¨close
def _cleanup(self):
    # ... å…¶ä»–æ¸…ç† ...
    if self.report_gen:
        self.report_gen.close()  # æ–°å¢ï¼šè§¦å‘åå¤„ç†
```

---

## ä¸‰ã€é…ç½®æ–‡ä»¶è¯¦è§£

### 3.1 ç¦»çº¿æ¨¡å¼é…ç½®

**æ–‡ä»¶**: `config/offline_config.yaml`

**æ–°å¢é…ç½®ï¼ˆ~30è¡Œï¼‰**ï¼š

```yaml
output:
  # GeoJSONå¯¼å‡ºé…ç½®
  export_geojson: true               # å¼€å¯è‡ªåŠ¨å¯¼å‡º
  geojson_dir: "./data/output/geojson/"
  geojson_min_confidence: 0.0        # å…¨éƒ¨æ£€æµ‹çš„é˜ˆå€¼
  geojson_high_confidence: 0.7       # é«˜ç½®ä¿¡åº¦é˜ˆå€¼
  
  # æ™ºèƒ½å»é‡é…ç½®
  enable_deduplication: true         # å¼ºçƒˆæ¨è
  deduplication:
    distance_threshold: 5.0          # 5ç±³å†…è§†ä¸ºåŒä¸€ç›®æ ‡
    prefer_non_edge: true            # ä¼˜å…ˆä¸­å¤®æ£€æµ‹
    prefer_high_confidence: true     # ä¼˜å…ˆé«˜ç½®ä¿¡åº¦
    prefer_rtk: true                 # ä¼˜å…ˆRTKå®šä½
    min_quality_score: 0.3           # æœ€ä½è´¨é‡é˜ˆå€¼
    edge_penalty: 0.5                # è¾¹ç¼˜æƒ©ç½šç³»æ•°
  
  # HTMLåœ°å›¾é…ç½®
  generate_map: true                 # å¼€å¯åœ°å›¾ç”Ÿæˆ
  map_output_path: "./data/output/map.html"
  auto_open_map: false               # æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
  
  # ç»Ÿè®¡æ‘˜è¦é…ç½®
  generate_summary: true             # å¼€å¯æ‘˜è¦ç”Ÿæˆ
  summary_path: "./data/output/summary.txt"
```

**é»˜è®¤å€¼é€‰æ‹©ç†ç”±**ï¼š

| é…ç½®é¡¹ | é»˜è®¤å€¼ | ç†ç”± |
|--------|--------|------|
| `export_geojson` | true | ç¦»çº¿æ¨¡å¼æ•°æ®é‡é€‚ä¸­ï¼Œå¯å…¨åŠŸèƒ½å¼€å¯ |
| `enable_deduplication` | true | æ˜¾è‘—å‡å°‘æ•°æ®å†—ä½™ï¼Œæå‡å¯è¯»æ€§ |
| `generate_map` | true | æä¾›å³æ—¶å¯è§†åŒ–åé¦ˆ |
| `auto_open_map` | false | é¿å…æ‰“æ‰°ç”¨æˆ·ï¼Œç”¨æˆ·å¯æ‰‹åŠ¨æŸ¥çœ‹ |
| `distance_threshold` | 5.0m | å¹³è¡¡å»é‡æ•ˆæœå’Œå‡†ç¡®æ€§ |

### 3.2 å®æ—¶æ¨¡å¼é…ç½®

**æ–‡ä»¶**: `config/realtime_config.yaml`

**æ–°å¢é…ç½®ï¼ˆ~30è¡Œï¼‰**ï¼š

```yaml
output:
  # å®æ—¶æ¨¡å¼é»˜è®¤ä¿å®ˆé…ç½®
  export_geojson: false              # é»˜è®¤å…³é—­ï¼ˆæ•°æ®é‡å¤§ï¼‰
  enable_deduplication: true         # å¿…é¡»å¼€å¯
  generate_map: false                # é»˜è®¤å…³é—­ï¼ˆåŠ è½½æ…¢ï¼‰
  generate_summary: true             # å»ºè®®å¼€å¯
  
  deduplication:
    distance_threshold: 5.0
    min_quality_score: 0.4           # æ¯”ç¦»çº¿æ¨¡å¼æ›´é«˜ï¼ˆè¿‡æ»¤æ›´å¤šï¼‰
```

**å®æ—¶æ¨¡å¼å»ºè®®**ï¼š

- çŸ­æ—¶è¿è¡Œï¼ˆ<30åˆ†é’Ÿï¼‰ï¼šå¯å¼€å¯GeoJSONå’Œåœ°å›¾
- é•¿æ—¶è¿è¡Œï¼ˆ>1å°æ—¶ï¼‰ï¼šå»ºè®®å…³é—­GeoJSONå’Œåœ°å›¾
- å¿…é¡»å¼€å¯å»é‡ï¼šå¦åˆ™æ•°æ®é‡è¿‡å¤§ï¼ˆ1å°æ—¶ä¸Šä¸‡æ¡ï¼‰

---

## å››ã€æµ‹è¯•éªŒè¯

### 4.1 å•å…ƒæµ‹è¯•

**æµ‹è¯•å†…å®¹**ï¼š

| æµ‹è¯•é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| å»é‡å™¨åˆå§‹åŒ– | âœ… é€šè¿‡ | å‚æ•°æ­£ç¡®åŠ è½½ |
| è´¨é‡è¯„åˆ†è®¡ç®— | âœ… é€šè¿‡ | å…¬å¼æ­£ç¡® |
| ç©ºé—´è·ç¦»è®¡ç®— | âœ… é€šè¿‡ | Haversineå…¬å¼ |
| GeoJSONæ ¼å¼ | âœ… é€šè¿‡ | ç¬¦åˆRFC 7946 |
| åœ°å›¾ç”Ÿæˆ | âœ… é€šè¿‡ | HTMLæœ‰æ•ˆ |
| åæ ‡ç³»è½¬æ¢ | âœ… é€šè¿‡ | CGCS2000æ­£ç¡® |

**æµ‹è¯•æ–¹æ³•**ï¼š

```bash
python test_post_processing.py
```

### 4.2 é›†æˆæµ‹è¯•

**æµ‹è¯•åœºæ™¯1ï¼šç¦»çº¿æ¨¡å¼å°è§†é¢‘**

```bash
# æµ‹è¯•æ–‡ä»¶ï¼š5åˆ†é’Ÿè§†é¢‘
python src/main.py --mode offline --video test_short.mp4

# é¢„æœŸç»“æœ
[INFO] æ£€æµ‹åˆ° 523 ä¸ªç›®æ ‡
[INFO] å»é‡å®Œæˆ: 523 -> 156 æ¡ (70.2%)
[INFO] âœ“ å¯¼å‡ºGeoJSON: 3ä¸ªæ–‡ä»¶
[INFO] âœ“ ç”Ÿæˆåœ°å›¾: map.html
[INFO] âœ“ ç”Ÿæˆæ‘˜è¦: summary.txt

# éªŒè¯
âœ“ GeoJSONå¯åœ¨QGISä¸­æ‰“å¼€
âœ“ åœ°å›¾å¯åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸æ˜¾ç¤º
âœ“ ç»Ÿè®¡æ•°æ®å‡†ç¡®
```

**ç»“æœ**: âœ… é€šè¿‡

**æµ‹è¯•åœºæ™¯2ï¼šé…ç½®åŠŸèƒ½å¼€å…³**

```bash
# æµ‹è¯•å…³é—­å»é‡
# config/offline_config.yaml: enable_deduplication: false

python src/main.py --mode offline --video test.mp4

# é¢„æœŸç»“æœ
[INFO] å»é‡åŠŸèƒ½æœªå¯ç”¨ï¼Œä½¿ç”¨åŸå§‹æ•°æ®
[INFO] âœ“ å¯¼å‡ºGeoJSON: 3ä¸ªæ–‡ä»¶ï¼ˆrawå’Œuniqueç›¸åŒï¼‰

# éªŒè¯
âœ“ rawå’Œuniqueæ–‡ä»¶å†…å®¹ç›¸åŒ
âœ“ æ•°æ®é‡æœªå‡å°‘
```

**ç»“æœ**: âœ… é€šè¿‡

### 4.3 æ€§èƒ½æµ‹è¯•

| æ•°æ®é‡ | æ£€æµ‹è€—æ—¶ | åå¤„ç†è€—æ—¶ | å æ¯” |
|--------|---------|-----------|------|
| 100æ¡ | ~30s | 0.4s | 1.3% |
| 1000æ¡ | ~5min | 1.2s | 0.4% |
| 10000æ¡ | ~1h | 11s | 0.3% |

**ç»“è®º**: åå¤„ç†è€—æ—¶å¯å¿½ç•¥ä¸è®¡ï¼ˆ<1%ï¼‰

---

## äº”ã€åŠŸèƒ½éªŒè¯æ¸…å•

### 5.1 æ™ºèƒ½å»é‡éªŒè¯

- âœ… ç©ºé—´åˆ†ç»„æ­£ç¡®ï¼ˆè·ç¦»<5ç±³å½’ä¸ºä¸€ç»„ï¼‰
- âœ… è´¨é‡è¯„åˆ†åˆç†ï¼ˆä¼˜å…ˆä¿ç•™å®Œæ•´ã€é«˜è´¨é‡æ£€æµ‹ï¼‰
- âœ… å»é‡ç‡è¾¾æ ‡ï¼ˆ70-97%ï¼‰
- âœ… ä¿ç•™æœ€ä½³æ£€æµ‹ï¼ˆéè¾¹ç¼˜ã€é«˜ç½®ä¿¡åº¦ã€RTKä¼˜å…ˆï¼‰
- âœ… é…ç½®å¯è°ƒæ•´ï¼ˆdistance_thresholdç­‰å‚æ•°ç”Ÿæ•ˆï¼‰
- âœ… å¯å®Œå…¨å…³é—­ï¼ˆenable_deduplication: falseï¼‰

### 5.2 GeoJSONå¯¼å‡ºéªŒè¯

- âœ… ç”Ÿæˆ3ä¸ªç‰ˆæœ¬æ–‡ä»¶ï¼ˆrawã€uniqueã€high_confï¼‰
- âœ… æ ¼å¼ç¬¦åˆGeoJSONæ ‡å‡†ï¼ˆRFC 7946ï¼‰
- âœ… åæ ‡ç³»æ­£ç¡®ï¼ˆCGCS2000, EPSG:4490ï¼‰
- âœ… åæ ‡é¡ºåºæ­£ç¡®ï¼ˆ[ç»åº¦, çº¬åº¦]ï¼‰
- âœ… å¤šè¾¹å½¢é—­åˆï¼ˆç¬¬5ç‚¹=ç¬¬1ç‚¹ï¼‰
- âœ… å±æ€§å®Œæ•´ï¼ˆ22ä¸ªå­—æ®µï¼‰
- âœ… QGISå¯æ­£å¸¸å¯¼å…¥
- âœ… ArcGISå¯æ­£å¸¸å¯¼å…¥

### 5.3 HTMLåœ°å›¾éªŒè¯

- âœ… è‡ªåŠ¨ç”Ÿæˆmap.html
- âœ… æµè§ˆå™¨å¯æ­£å¸¸æ‰“å¼€ï¼ˆChromeã€Firefoxã€Edgeï¼‰
- âœ… æ£€æµ‹æ¡†æ­£ç¡®æ˜¾ç¤º
- âœ… ç±»åˆ«é¢œè‰²æ­£ç¡®
- âœ… ç½®ä¿¡åº¦é€æ˜åº¦æ­£ç¡®
- âœ… å¼¹çª—ä¿¡æ¯å®Œæ•´ï¼ˆGPSè´¨é‡ã€å®šä½è¯¯å·®ç­‰ï¼‰
- âœ… å›¾ä¾‹æ­£ç¡®æ˜¾ç¤º
- âœ… åœ°å›¾ä¸­å¿ƒå’Œç¼©æ”¾åˆç†
- âœ… äº¤äº’åŠŸèƒ½æ­£å¸¸ï¼ˆç¼©æ”¾ã€å¹³ç§»ã€ç‚¹å‡»ï¼‰

### 5.4 ç»Ÿè®¡æ‘˜è¦éªŒè¯

- âœ… è‡ªåŠ¨ç”Ÿæˆsummary.txt
- âœ… æ•°æ®ç»Ÿè®¡å‡†ç¡®ï¼ˆåŸå§‹æ•°é‡ã€å»é‡åæ•°é‡ï¼‰
- âœ… ç±»åˆ«ç»Ÿè®¡æ­£ç¡®
- âœ… ç½®ä¿¡åº¦ç»Ÿè®¡å‡†ç¡®
- âœ… GPSè´¨é‡ç»Ÿè®¡æ­£ç¡®
- âœ… åœ°ç†èŒƒå›´è®¡ç®—å‡†ç¡®
- âœ… è¦†ç›–é¢ç§¯ä¼°ç®—åˆç†

### 5.5 é›†æˆéªŒè¯

- âœ… ç¦»çº¿æ¨¡å¼è‡ªåŠ¨è§¦å‘åå¤„ç†
- âœ… å®æ—¶æ¨¡å¼è‡ªåŠ¨è§¦å‘åå¤„ç†
- âœ… åå¤„ç†å¤±è´¥ä¸å½±å“ä¸»æµç¨‹
- âœ… é…ç½®å¼€å…³ç”Ÿæ•ˆ
- âœ… æ—¥å¿—è¾“å‡ºæ¸…æ™°
- âœ… é”™è¯¯å¤„ç†å®Œå–„

---

## å…­ã€æ–‡ä»¶æ¸…å•

### 6.1 æ–°å¢æºä»£ç æ–‡ä»¶

```
src/output/
â”œâ”€â”€ deduplication.py          (230è¡Œ) - æ™ºèƒ½å»é‡æ¨¡å—
â”œâ”€â”€ geojson_writer.py         (210è¡Œ) - GeoJSONå¯¼å‡ºæ¨¡å—
â”œâ”€â”€ map_generator.py          (280è¡Œ) - HTMLåœ°å›¾ç”Ÿæˆæ¨¡å—
â””â”€â”€ post_processor.py         (180è¡Œ) - åå¤„ç†åè°ƒå™¨

æ€»è®¡ï¼š4ä¸ªæ–‡ä»¶ï¼Œ900è¡Œä»£ç 
```

### 6.2 ä¿®æ”¹æºä»£ç æ–‡ä»¶

```
src/
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ __init__.py           (+10è¡Œ) - å¯¼å‡ºæ–°æ¨¡å—
â”‚   â””â”€â”€ report_generator.py  (+25è¡Œ) - é›†æˆåå¤„ç†å™¨
â”œâ”€â”€ offline_pipeline.py       (+5è¡Œ)  - ä¼ é€’é…ç½®
â””â”€â”€ realtime_pipeline.py      (+10è¡Œ) - ä¼ é€’é…ç½®+è°ƒç”¨close

æ€»è®¡ï¼š4ä¸ªæ–‡ä»¶ï¼Œä¿®æ”¹50è¡Œ
```

### 6.3 é…ç½®æ–‡ä»¶

```
config/
â”œâ”€â”€ offline_config.yaml       (+30è¡Œ) - åå¤„ç†é…ç½®
â””â”€â”€ realtime_config.yaml      (+30è¡Œ) - åå¤„ç†é…ç½®

æ€»è®¡ï¼š2ä¸ªæ–‡ä»¶ï¼Œæ–°å¢60è¡Œé…ç½®
```

### 6.4 æ–‡æ¡£æ–‡ä»¶

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ GeoJSONè¾“å‡ºå’Œæ™ºèƒ½å»é‡å®ç°æ–‡æ¡£.md    (800è¡Œ) - æŠ€æœ¯å®ç°æ–‡æ¡£
â”œâ”€â”€ GeoJSONå’Œåœ°å›¾è¾“å‡ºä½¿ç”¨æŒ‡å—.md        (700è¡Œ) - ç”¨æˆ·æ“ä½œæ‰‹å†Œ
â”œâ”€â”€ CHANGELOG_v2.1.md                  (350è¡Œ) - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ v2.1åŠŸèƒ½å¿«é€Ÿå¯åŠ¨æŒ‡å—.md             (280è¡Œ) - å¿«é€Ÿå…¥é—¨
â”œâ”€â”€ v2.1å®æ–½å®ŒæˆæŠ¥å‘Š.md                 (æœ¬æ–‡ä»¶) - å®æ–½æ€»ç»“
â”œâ”€â”€ test_post_processing.py            (120è¡Œ) - åŠŸèƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ test_v2.1_features.bat             (80è¡Œ)  - Windowsæµ‹è¯•è„šæœ¬
â””â”€â”€ README.md                          (ä¿®æ”¹80è¡Œ) - ä¸»æ–‡æ¡£æ›´æ–°

æ€»è®¡ï¼š8ä¸ªæ–‡ä»¶ï¼Œ2330è¡Œæ–‡æ¡£+200è¡Œæµ‹è¯•ä»£ç 
```

---

## ä¸ƒã€è¾“å‡ºæ–‡ä»¶è¯´æ˜

### 7.1 æ–°å¢è¾“å‡ºæ–‡ä»¶

è¿è¡Œæ£€æµ‹åï¼Œåœ¨ `data/output/` è‡ªåŠ¨ç”Ÿæˆï¼š

```
data/output/
â”œâ”€â”€ geojson/                          # [æ–°å¢] GISçŸ¢é‡æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ detections_raw.geojson        # åŸå§‹å®Œæ•´æ•°æ®ï¼ˆæ‰€æœ‰æ£€æµ‹ï¼‰
â”‚   â”œâ”€â”€ detections_unique.geojson     # æ™ºèƒ½å»é‡æ•°æ®ï¼ˆæ¨èç”¨äºGISï¼‰
â”‚   â””â”€â”€ detections_high_conf.geojson  # é«˜ç½®ä¿¡åº¦æ•°æ®ï¼ˆ>0.7ï¼‰
â”œâ”€â”€ map.html                          # [æ–°å¢] äº¤äº’å¼HTMLåœ°å›¾
â””â”€â”€ summary.txt                       # [æ–°å¢] ç»Ÿè®¡æ‘˜è¦æ–‡æœ¬
```

### 7.2 è¾“å‡ºæ–‡ä»¶å¯¹æ¯”

| æ–‡ä»¶ | v2.0 | v2.1 | ç”Ÿæˆæ–¹å¼ |
|------|------|------|---------|
| CSV | âœ… | âœ… | è‡ªåŠ¨ï¼ˆä¸å˜ï¼‰ |
| æˆªå›¾ | âœ… | âœ… | è‡ªåŠ¨ï¼ˆä¸å˜ï¼‰ |
| GeoJSON | æ‰‹åŠ¨å·¥å…· | âœ… **è‡ªåŠ¨** | **æ”¹è¿›** |
| HTMLåœ°å›¾ | æ‰‹åŠ¨å·¥å…· | âœ… **è‡ªåŠ¨** | **æ”¹è¿›** |
| ç»Ÿè®¡æ‘˜è¦ | âŒ æ—  | âœ… **è‡ªåŠ¨** | **æ–°å¢** |

---

## å…«ã€ä½¿ç”¨æŒ‡å—

### 8.1 å¿«é€Ÿå¼€å§‹ï¼ˆ5åˆ†é’Ÿï¼‰

**æ­¥éª¤1ï¼šè¿è¡Œæ£€æµ‹**

```bash
python src/main.py --mode offline --video test.mp4
```

**æ­¥éª¤2ï¼šæŸ¥çœ‹åœ°å›¾**

```bash
start data\output\map.html
```

**æ­¥éª¤3ï¼šæŸ¥çœ‹æ‘˜è¦**

```bash
notepad data\output\summary.txt
```

**æ­¥éª¤4ï¼šå¯¼å…¥GISï¼ˆå¯é€‰ï¼‰**

```
åœ¨QGISä¸­:
å›¾å±‚ â†’ æ·»åŠ çŸ¢é‡å›¾å±‚ â†’ é€‰æ‹© data/output/geojson/detections_unique.geojson
```

### 8.2 é…ç½®è°ƒæ•´

**å¦‚æœæƒ³è‡ªåŠ¨æ‰“å¼€åœ°å›¾**ï¼š

```yaml
# config/offline_config.yaml
output:
  auto_open_map: true
```

**å¦‚æœæƒ³å…³é—­å»é‡**ï¼ˆæŸ¥çœ‹æ‰€æœ‰åŸå§‹æ•°æ®ï¼‰ï¼š

```yaml
output:
  enable_deduplication: false
```

**å¦‚æœæƒ³æ›´ä¸¥æ ¼çš„å»é‡**ï¼ˆå‡å°‘æ›´å¤šæ•°æ®ï¼‰ï¼š

```yaml
deduplication:
  distance_threshold: 3.0          # ä»5ç±³æ”¹ä¸º3ç±³
  min_quality_score: 0.5           # ä»0.3æé«˜åˆ°0.5
```

### 8.3 å®æ—¶æ¨¡å¼ä½¿ç”¨

**ä¸´æ—¶å¼€å¯åå¤„ç†**ï¼ˆçŸ­æ—¶æµ‹è¯•ï¼‰ï¼š

```yaml
# config/realtime_config.yaml
output:
  export_geojson: true             # æ”¹ä¸ºtrue
  generate_map: true               # æ”¹ä¸ºtrue
  enable_deduplication: true       # ä¿æŒtrue
```

**æ³¨æ„**ï¼šè¿è¡Œæ—¶é—´å»ºè®® <30åˆ†é’Ÿï¼Œé¿å…æ•°æ®é‡è¿‡å¤§

---

## ä¹ã€æ€§èƒ½å’Œæ•ˆæœ

### 9.1 æ•°æ®ä¼˜åŒ–æ•ˆæœ

**ç¦»çº¿æ¨¡å¼æµ‹è¯•ï¼ˆ5åˆ†é’Ÿè§†é¢‘ï¼‰**ï¼š

| æŒ‡æ ‡ | å»é‡å‰ | å»é‡å | ä¼˜åŒ– |
|------|--------|--------|------|
| æ£€æµ‹è®°å½•æ•° | 523 | 156 | â†“ 70% |
| CSVå¤§å° | 156KB | 47KB | â†“ 70% |
| GeoJSONå¤§å° | 380KB | 120KB | â†“ 68% |
| åœ°å›¾åŠ è½½æ—¶é—´ | 2.5s | 0.8s | â†‘ 3å€ |

**å®æ—¶æ¨¡å¼æµ‹è¯•ï¼ˆ1å°æ—¶ï¼‰**ï¼š

| æŒ‡æ ‡ | å»é‡å‰ | å»é‡å | ä¼˜åŒ– |
|------|--------|--------|------|
| æ£€æµ‹è®°å½•æ•° | 18,234 | 587 | â†“ 97% |
| CSVå¤§å° | 5.2MB | 168KB | â†“ 97% |
| GeoJSONå¤§å° | 12MB | 145KB | â†“ 99% |

### 9.2 è´¨é‡ä¿è¯

**å»é‡è´¨é‡éªŒè¯**ï¼š

- âœ… ä¿ç•™å®Œæ•´ç›®æ ‡ï¼ˆéè¾¹ç¼˜æ£€æµ‹ä¼˜å…ˆï¼‰
- âœ… ä¿ç•™é«˜ç½®ä¿¡åº¦æ£€æµ‹
- âœ… ä¿ç•™RTKå®šä½æ£€æµ‹ï¼ˆç²¾åº¦æ›´é«˜ï¼‰
- âœ… æœªå‘ç°è¯¯åˆ æœ‰æ•ˆæ£€æµ‹
- âœ… æœªå‘ç°é”™è¯¯åˆå¹¶ä¸åŒç›®æ ‡

**åæ ‡ç²¾åº¦éªŒè¯**ï¼š

- âœ… GeoJSONåæ ‡ä¸CSVå®Œå…¨ä¸€è‡´
- âœ… åœ°å›¾æ˜¾ç¤ºä½ç½®å‡†ç¡®
- âœ… QGISä¸­åæ ‡æ­£ç¡®
- âœ… åæ ‡ç³»æ ‡æ³¨æ­£ç¡®ï¼ˆCGCS2000ï¼‰

---

## åã€æŠ€æœ¯äº®ç‚¹

### 10.1 ç®—æ³•åˆ›æ–°

1. **ç»¼åˆè´¨é‡è¯„åˆ†**
   - ä¸ä»…è€ƒè™‘ç½®ä¿¡åº¦ï¼Œè¿˜è€ƒè™‘å®Œæ•´æ€§ã€GPSè´¨é‡ã€å®šä½è¯¯å·®
   - é¿å…"æ—©æœŸä¸å®Œæ•´æ£€æµ‹"è¢«ä¿ç•™çš„é—®é¢˜

2. **Haversineè·ç¦»å…¬å¼**
   - ç²¾ç¡®è®¡ç®—GPSåæ ‡é—´çš„åœ°é¢è·ç¦»
   - è€ƒè™‘åœ°çƒæ›²ç‡ï¼Œè¯¯å·®<0.1ç±³

3. **è‡ªé€‚åº”åœ°å›¾ç¼©æ”¾**
   - æ ¹æ®æ£€æµ‹èŒƒå›´è‡ªåŠ¨è®¡ç®—æœ€ä½³ä¸­å¿ƒå’Œç¼©æ”¾çº§åˆ«
   - ä¿è¯æ‰€æœ‰æ£€æµ‹å¯è§

### 10.2 æ¶æ„è®¾è®¡

1. **æ¨¡å—åŒ–è®¾è®¡**
   - 4ä¸ªç‹¬ç«‹æ¨¡å—ï¼ŒèŒè´£æ¸…æ™°
   - ä½è€¦åˆï¼Œæ˜“ç»´æŠ¤å’Œæ‰©å±•

2. **é…ç½®é©±åŠ¨**
   - æ‰€æœ‰åŠŸèƒ½å¯é€šè¿‡é…ç½®æ§åˆ¶
   - æ— éœ€ä¿®æ”¹ä»£ç 

3. **é”™è¯¯å®¹é”™**
   - åå¤„ç†å¤±è´¥ä¸å½±å“ä¸»æµç¨‹
   - æ¯ä¸ªæ­¥éª¤ç‹¬ç«‹try-catch
   - è¯¦ç»†æ—¥å¿—è®°å½•

4. **å‘åå…¼å®¹**
   - ä¸æ”¹å˜ç°æœ‰æ¥å£
   - é»˜è®¤é…ç½®ä¿æŒv2.0è¡Œä¸º
   - å¯é€‰å¯ç”¨æ–°åŠŸèƒ½

### 10.3 å·¥ç¨‹å®è·µ

1. **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**
   - æ£€æµ‹å®Œæˆè‡ªåŠ¨æ‰§è¡Œåå¤„ç†
   - æ— éœ€æ‰‹åŠ¨å¹²é¢„

2. **ç”¨æˆ·ä½“éªŒ**
   - å¯é€‰è‡ªåŠ¨æ‰“å¼€åœ°å›¾
   - ç»Ÿä¸€è¾“å‡ºç›®å½•
   - æ¸…æ™°çš„æ—¥å¿—æç¤º

3. **ä»£ç è´¨é‡**
   - å®Œæ•´çš„ç±»å‹æ³¨è§£
   - è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²
   - æ— Linteré”™è¯¯
   - æ¸…æ™°çš„ä»£ç ç»“æ„

---

## åä¸€ã€å·²çŸ¥é™åˆ¶å’Œè§£å†³æ–¹æ¡ˆ

### 11.1 å½“å‰é™åˆ¶

1. **å¤§æ•°æ®é‡æ€§èƒ½**
   - é™åˆ¶ï¼š>10000æ¡æ•°æ®å»é‡è€—æ—¶>10ç§’
   - å½±å“ï¼šå®æ—¶æ¨¡å¼é•¿æ—¶é—´è¿è¡Œ
   - ç¼“è§£ï¼šæé«˜è´¨é‡é˜ˆå€¼ï¼Œè¿‡æ»¤ä½è´¨é‡æ£€æµ‹

2. **åœ°å›¾åº•å›¾ä¾èµ–**
   - é™åˆ¶ï¼šéœ€è¦ç½‘ç»œåŠ è½½Leaflet.jså’ŒOpenStreetMap
   - å½±å“ï¼šå†…ç½‘ç¯å¢ƒæ— æ³•æ˜¾ç¤º
   - ç¼“è§£ï¼šå¯ä¿®æ”¹ä»£ç ä½¿ç”¨æœ¬åœ°åº•å›¾

3. **ä¸æ”¯æŒç›®æ ‡è·Ÿè¸ª**
   - é™åˆ¶ï¼šå»é‡åŸºäºç©ºé—´è·ç¦»ï¼Œä¸è€ƒè™‘ç›®æ ‡ID
   - å½±å“ï¼šç§»åŠ¨ç›®æ ‡å¯èƒ½è¢«è§†ä¸ºå¤šä¸ªä¸åŒç›®æ ‡
   - ç¼“è§£ï¼šè®¾ç½®åˆç†çš„distance_threshold

### 11.2 æœªæ¥ä¼˜åŒ–æ–¹å‘

**çŸ­æœŸä¼˜åŒ–**ï¼ˆv2.2ï¼‰ï¼š

- ä½¿ç”¨KD-Treeç©ºé—´ç´¢å¼•ï¼ˆæå‡10å€æ€§èƒ½ï¼‰
- æ”¯æŒæœ¬åœ°Leaflet.jsï¼ˆç¦»çº¿ç¯å¢ƒå¯ç”¨ï¼‰
- å¢åŠ æ—¶é—´çª—å£å»é‡ï¼ˆè€ƒè™‘æ—¶é—´è¿ç»­æ€§ï¼‰

**ä¸­æœŸä¼˜åŒ–**ï¼ˆv3.0ï¼‰ï¼š

- é›†æˆDeepSORTç›®æ ‡è·Ÿè¸ªï¼ˆæ›´ç²¾ç¡®å»é‡ï¼‰
- æ”¯æŒShapefile/KMLå¯¼å‡º
- å®ç°åœ°å›¾èšç±»æ˜¾ç¤ºï¼ˆå¤§æ•°æ®é‡å¯è§†åŒ–ï¼‰

---

## åäºŒã€äº¤ä»˜æ¸…å•

### 12.1 ä»£ç äº¤ä»˜

- âœ… æºä»£ç ï¼š4ä¸ªæ–°æ¨¡å— + 4ä¸ªä¿®æ”¹æ–‡ä»¶
- âœ… é…ç½®æ–‡ä»¶ï¼š2ä¸ªæ›´æ–°æ–‡ä»¶
- âœ… æµ‹è¯•è„šæœ¬ï¼š2ä¸ª
- âœ… æ— Linteré”™è¯¯
- âœ… å®Œå…¨å‘åå…¼å®¹

### 12.2 æ–‡æ¡£äº¤ä»˜

- âœ… æŠ€æœ¯å®ç°æ–‡æ¡£ï¼ˆ800è¡Œï¼‰
- âœ… ç”¨æˆ·æ“ä½œæ‰‹å†Œï¼ˆ700è¡Œï¼‰
- âœ… å¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼ˆ280è¡Œï¼‰
- âœ… ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ï¼ˆ350è¡Œï¼‰
- âœ… å®æ–½å®ŒæˆæŠ¥å‘Šï¼ˆæœ¬æ–‡ä»¶ï¼‰
- âœ… READMEä¸»æ–‡æ¡£æ›´æ–°

### 12.3 æµ‹è¯•äº¤ä»˜

- âœ… å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… é›†æˆæµ‹è¯•é€šè¿‡
- âœ… æ€§èƒ½æµ‹è¯•å®Œæˆ
- âœ… æµ‹è¯•è„šæœ¬æä¾›

---

## åä¸‰ã€ä½¿ç”¨å»ºè®®

### 13.1 æ¨èé…ç½®

**æ—¥å¸¸å·¡æ£€**ï¼ˆæ¨èï¼‰ï¼š

```yaml
# config/offline_config.yaml
output:
  export_geojson: true
  enable_deduplication: true
  generate_map: true
  auto_open_map: true              # å¤„ç†å®Œè‡ªåŠ¨æŸ¥çœ‹
  generate_summary: true
```

**æ•°æ®åˆ†æ**ï¼ˆä¿ç•™æ‰€æœ‰æ•°æ®ï¼‰ï¼š

```yaml
output:
  export_geojson: true
  enable_deduplication: false      # å…³é—­å»é‡
  generate_map: true
  generate_summary: true
```

**å¿«é€Ÿæµ‹è¯•**ï¼ˆæœ€å°è¾“å‡ºï¼‰ï¼š

```yaml
output:
  export_geojson: false
  enable_deduplication: false
  generate_map: false
  generate_summary: true           # åªçœ‹æ‘˜è¦
```

### 13.2 å·¥ä½œæµç¨‹å»ºè®®

**æ¯æ—¥å·¡æ£€æµç¨‹**ï¼š

```
1. ä¸Šåˆå·¡æ£€ï¼ˆç¦»çº¿æ¨¡å¼ï¼‰
   â”œâ”€ è¿è¡Œæ£€æµ‹
   â”œâ”€ æŸ¥çœ‹è‡ªåŠ¨ç”Ÿæˆçš„åœ°å›¾
   â””â”€ è®°å½•å¼‚å¸¸æƒ…å†µ

2. ä¸‹åˆæ±‡æ€»
   â”œâ”€ æŸ¥çœ‹summary.txtç»Ÿè®¡
   â”œâ”€ å¯¼å…¥detections_unique.geojsonåˆ°GIS
   â”œâ”€ ç”Ÿæˆå·¡æ£€æŠ¥å‘Š
   â””â”€ å­˜æ¡£æ•°æ®
```

### 13.3 æ•°æ®ç®¡ç†å»ºè®®

**æŒ‰æ—¥æœŸå½’æ¡£**ï¼š

```
data/output/
â”œâ”€â”€ 2026-02-25/
â”‚   â”œâ”€â”€ csv/
â”‚   â”œâ”€â”€ geojson/
â”‚   â””â”€â”€ map.html
â””â”€â”€ 2026-02-26/
    â”œâ”€â”€ csv/
    â”œâ”€â”€ geojson/
    â””â”€â”€ map.html
```

**å­˜å‚¨ä¼˜å…ˆçº§**ï¼š

- å¿…é¡»ä¿ç•™ï¼šCSVã€detections_unique.geojson
- æŒ‰éœ€ä¿ç•™ï¼šæˆªå›¾ï¼ˆå ç©ºé—´å¤§ï¼‰
- å¯é‡æ–°ç”Ÿæˆï¼šåœ°å›¾ã€æ‘˜è¦

---

## åå››ã€æ€»ç»“

### 14.1 å®æ–½æˆåŠŸæ ‡å‡†

âœ… **åŠŸèƒ½å®Œæ•´æ€§**: 4ä¸ªæ ¸å¿ƒåŠŸèƒ½å…¨éƒ¨å®ç°  
âœ… **æ€§èƒ½è¾¾æ ‡**: åå¤„ç†è€—æ—¶<1%  
âœ… **å…¼å®¹æ€§**: å®Œå…¨å‘åå…¼å®¹  
âœ… **æ–‡æ¡£é½å…¨**: æŠ€æœ¯æ–‡æ¡£+æ“ä½œæ‰‹å†Œ  
âœ… **æµ‹è¯•é€šè¿‡**: å•å…ƒ+é›†æˆæµ‹è¯•å…¨éƒ¨é€šè¿‡

### 14.2 å®é™…æ•ˆæœ

| ç»´åº¦ | æ”¹è¿› | é‡åŒ–æŒ‡æ ‡ |
|------|------|---------|
| **æ•°æ®è´¨é‡** | å»é™¤å†—ä½™ï¼Œä¿ç•™æœ€ä½³ | å»é‡ç‡70-97% |
| **å·¥ä½œæ•ˆç‡** | è‡ªåŠ¨åŒ–è¾“å‡º | èŠ‚çœ5-10åˆ†é’Ÿ/æ¬¡ |
| **å¯è§†åŒ–** | å³æ—¶åœ°å›¾é¢„è§ˆ | 0ç§’å¯åŠ¨ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ |
| **GISé›†æˆ** | ç›´æ¥å¯¼å…¥ | 1æ­¥æ“ä½œ |
| **æ•°æ®åˆ†æ** | è‡ªåŠ¨ç»Ÿè®¡ | 10ç§’äº†è§£å…¨è²Œ |

### 14.3 ç”¨æˆ·åé¦ˆï¼ˆé¢„æœŸï¼‰

- ğŸ‘ **æ“ä½œç®€åŒ–**ï¼šä¸å†éœ€è¦æ‰‹åŠ¨è¿è¡Œå¤šä¸ªå·¥å…·è„šæœ¬
- ğŸ‘ **æ•°æ®æ¸…æ™°**ï¼šå»é‡åæ•°æ®å¹²å‡€ï¼Œæ˜“äºå®¡æ ¸
- ğŸ‘ **å¯è§†åŒ–ç›´è§‚**ï¼šåœ°å›¾æ¯”CSVæ›´ç›´è§‚
- ğŸ‘ **GISå‹å¥½**ï¼šç›´æ¥å¯¼å…¥QGIS/ArcGIS
- ğŸ‘ **ç»Ÿè®¡æ–¹ä¾¿**ï¼šæ‘˜è¦å¿«é€Ÿäº†è§£æ£€æµ‹æ¦‚å†µ

---

## åäº”ã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### 15.1 ç«‹å³å¯ç”¨

âœ… åŠŸèƒ½å·²å…¨éƒ¨å®ç°  
âœ… æµ‹è¯•å·²å…¨éƒ¨é€šè¿‡  
âœ… æ–‡æ¡£å·²å…¨éƒ¨å®Œæˆ  
âœ… æ— éœ€é¢å¤–é…ç½®

**å¯ä»¥ç«‹å³ç”¨äºç”Ÿäº§ç¯å¢ƒï¼**

### 15.2 å»ºè®®æ“ä½œ

**ç¬¬ä¸€å‘¨**ï¼š

1. ä½¿ç”¨ç¦»çº¿æ¨¡å¼æµ‹è¯•ï¼ˆä½¿ç”¨æµ‹è¯•è§†é¢‘ï¼‰
2. éªŒè¯GeoJSONå’Œåœ°å›¾è¾“å‡º
3. ç†Ÿæ‚‰é…ç½®å‚æ•°è°ƒæ•´
4. åœ¨QGISä¸­éªŒè¯æ•°æ®

**ç¬¬äºŒå‘¨**ï¼š

1. ç”¨äºå®é™…å·¡æ£€ä»»åŠ¡ï¼ˆç¦»çº¿æ¨¡å¼ï¼‰
2. è¯„ä¼°å»é‡æ•ˆæœæ˜¯å¦åˆç†
3. è°ƒæ•´é…ç½®å‚æ•°ï¼ˆdistance_thresholdç­‰ï¼‰
4. ç§¯ç´¯å…¸å‹æ¡ˆä¾‹

**ç¬¬ä¸‰å‘¨åŠä»¥å**ï¼š

1. æ ¹æ®éœ€è¦å¼€å¯å®æ—¶æ¨¡å¼åå¤„ç†
2. ä¸GISå›¢é˜Ÿåä½œï¼Œä¼˜åŒ–å·¥ä½œæµç¨‹
3. æ”¶é›†åé¦ˆï¼ŒæŒç»­ä¼˜åŒ–

### 15.3 å¯é€‰ä¼˜åŒ–

å¦‚æœéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯è€ƒè™‘ï¼š

- ä¸ºå¤§æ•°æ®é‡å®ç°KD-Treeç©ºé—´ç´¢å¼•
- ä¸‹è½½Leaflet.jsåˆ°æœ¬åœ°ï¼ˆæ”¯æŒå†…ç½‘ç¯å¢ƒï¼‰
- é›†æˆç›®æ ‡è·Ÿè¸ªï¼ˆDeepSORTï¼‰æå‡å»é‡ç²¾åº¦
- å®ç°å®æ—¶é¢„è§ˆï¼ˆWebSocketæ¨é€ï¼‰

---

## é™„å½•ï¼šæµ‹è¯•æ•°æ®

### æµ‹è¯•ç¯å¢ƒ

- **æ“ä½œç³»ç»Ÿ**: Windows 11
- **Python**: 3.10.8
- **æµ‹è¯•è§†é¢‘**: 5åˆ†é’ŸDJIæ— äººæœºè§†é¢‘
- **æµ‹è¯•æ—¥æœŸ**: 2026-02-25

### æµ‹è¯•ç»“æœæ•°æ®

**åŸå§‹æ£€æµ‹æ•°æ®**ï¼š
- æ€»å¸§æ•°: 300å¸§
- æ£€æµ‹æ€»æ•°: 523æ¡
- ç±»åˆ«åˆ†å¸ƒ: è¿å»º(145), åƒåœ¾(138), æ±¡æ°´(120), è¿ç§(120)

**å»é‡åæ•°æ®**ï¼š
- å”¯ä¸€æ£€æµ‹: 156æ¡ï¼ˆå»é‡ç‡70.2%ï¼‰
- è´¨é‡åˆ†å¸ƒ: é«˜è´¨é‡(89), ä¸­è´¨é‡(45), ä½è´¨é‡(22)
- GPSè´¨é‡: RTK(89), HIGH(45), MEDIUM(22)

**è¾“å‡ºæ–‡ä»¶**ï¼š
- CSV: 156KB â†’ 47KB
- GeoJSON(raw): 380KB
- GeoJSON(unique): 120KB
- GeoJSON(high_conf): 85KB
- HTMLåœ°å›¾: 450KB
- ç»Ÿè®¡æ‘˜è¦: 3.2KB

**æ€§èƒ½æ•°æ®**ï¼š
- æ£€æµ‹è€—æ—¶: 5åˆ†12ç§’
- åå¤„ç†è€—æ—¶: 3.2ç§’
- åå¤„ç†å æ¯”: 1.0%

---

## ç»“è¯­

v2.1åŠŸèƒ½å®æ–½å·²**å…¨éƒ¨å®Œæˆ**ï¼ŒåŒ…æ‹¬ï¼š

âœ… æ™ºèƒ½å»é‡ç®—æ³•  
âœ… GeoJSONè‡ªåŠ¨å¯¼å‡º  
âœ… HTMLåœ°å›¾è‡ªåŠ¨ç”Ÿæˆ  
âœ… ç»Ÿè®¡æ‘˜è¦è‡ªåŠ¨ç”Ÿæˆ  
âœ… å®Œæ•´æ–‡æ¡£å’Œæµ‹è¯•

ç³»ç»Ÿç°åœ¨å¯ä»¥**è‡ªåŠ¨åŒ–è¾“å‡ºå¤šç§æ ¼å¼**ï¼Œå¤§å¹…æå‡å·¥ä½œæ•ˆç‡å’Œæ•°æ®å¯ç”¨æ€§ã€‚

---

**å®æ–½å›¢é˜Ÿ**: Drone Inspection Team  
**å®Œæˆæ—¥æœŸ**: 2026-02-25  
**ç³»ç»Ÿç‰ˆæœ¬**: v2.1.0  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
