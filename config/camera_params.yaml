# DJI 4TD 相机参数配置
# 这些参数用于像素坐标到地理坐标的转换

camera:
  # 相机型号
  model: "DJI_M4TD"
  
  # 图像分辨率 (宽 x 高, 单位: 像素)
  resolution:
    width: 4032  # 根据实际相机调整
    height: 3024
  
  # 传感器尺寸 (单位: mm)
  sensor_size:
    width: 13.4  # 1/1.3英寸传感器的典型尺寸，需根据实际相机确认
    height: 9.6
  
  # 焦距 (单位: mm)
  focal_length: 6.72  # 根据实际相机参数调整
  
  # 主点坐标 (图像中心, 单位: 像素)
  # 通常设置为图像中心，如果有相机标定结果可以更新
  principal_point:
    cx: 2736  # width / 2
    cy: 1824  # height / 2
  
  # 畸变系数 (如果不考虑畸变，保持为0)
  distortion:
    k1: 0.0
    k2: 0.0
    p1: 0.0
    p2: 0.0
    k3: 0.0

# 正射投影模式参数
orthogonal_mode:
  # 假设严格垂直拍摄
  assume_vertical: true
  
  # 俯仰角 (度)
  pitch: -90.0
  
  # 是否使用姿态角修正 (false表示使用简化算法)
  use_attitude_correction: false

# 地球参数 (用于经纬度转换)
# 坐标系说明：
# - 输入：无人机GPS坐标为WGS84（DJI飞控标准，EPSG:4326）
# - 输出：检测目标坐标为CGCS2000（中国国家标准，EPSG:4490）
# - 转换精度：优于0.1米
earth:
  # 每度纬度对应的地面距离 (米)
  meters_per_degree_lat: 110540
  
  # 每度经度对应的地面距离 (米，在赤道处)
  # 实际使用时需要乘以 cos(latitude)
  meters_per_degree_lon: 111320

# 坐标转换器配置
# 新增：支持选择简化版或增强版转换器
coordinate_transform:
  # 使用增强版转换器（支持完整3D姿态修正和GPS质量控制）
  # true: 使用 coord_transform_new.py (增强版)
  # false: 使用 coord_transform.py (简化版)
  use_enhanced: false
  
  # GPS质量控制配置（仅增强版有效）
  quality_control:
    # 是否启用GPS质量控制
    enabled: true
    
    # 最低GPS信号强度（0-5级，建议≥3）
    min_gps_level: 3
    
    # 最少卫星数量（建议≥10）
    min_satellite_count: 10
    
    # 是否跳过低质量数据（true=自动过滤，false=标记但仍处理）
    skip_on_low_quality: true
  
  # 误差估算配置（仅增强版有效）
  error_estimation:
    # 是否启用误差估算
    enabled: true
    
    # 普通GPS基础误差（米）
    gps_base_error: 3.5
    
    # RTK基础误差（米，厘米级精度）
    rtk_base_error: 0.05
