# YOLO 模型配置

model:
  # 模型路径
  path: "./models/yolov11x.pt"
  
  # 模型类型
  type: "yolov11x"
  
  # 推理设备 (cuda, cpu)
  device: "cuda"  # GPU模式（需要CUDA版本的PyTorch）
  
  # 是否使用半精度推理 (需要GPU支持，速度翻倍)
  half_precision: true

# 检测参数
detection:
  # 置信度阈值（河岸四乱检测：提高阈值减少误检）
  confidence_threshold: 0.35
  
  # IoU阈值 (用于NMS)
  iou_threshold: 0.45
  
  # 最大检测数量
  max_detections: 300
  
  # 图像尺寸 (模型输入尺寸，正射图片建议使用更大尺寸)
  imgsz: 1280
  
  # 是否对图像进行预处理增强
  augment: false

# 目标类别 (根据训练的模型调整)
classes:
  # 如果为空，检测所有类别
  # 如果指定，只检测指定类别的ID
  target_classes: null  # null表示检测所有类别，或指定类别ID列表如: [0, 1, 2]
  
  # 类别名称映射 (根据实际训练模型调整)
  # names:
  #   0: "0"
  #   1: "乱占_1"
  #   2: "乱占_2"
  #   3: "乱占_3"
  #   4: "乱占_4"
  #   5: "乱占_5"
  #   6: "乱占_6"
  #   7: "乱占_7"
  #   8: "乱占_8"
  #   9: "乱占_9"
  #   10: "乱占_10"
  #   11: "乱占_11"
  #   12: "乱采_12"
  #   13: "乱采_13"
  #   14: "乱采_14"
  #   15: "乱采_15"
  #   16: "乱采_16"
  #   17: "乱堆_17"
  #   18: "乱堆_18"
  #   19: "乱堆_19"
  #   20: "乱堆_20"
  #   21: "乱堆_21"
  #   22: "乱建_22"
  #   23: "乱建_23"
  #   24: "乱建_24"
  #   25: "乱建_25"
  #   26: "乱建_26"
  #   27: "乱建_27"
  #   28: "乱建_28"
  #   29: "乱建_29"
  #   30: "乱建_30"
  #   31: "乱建_31"
  #   32: "乱建_32"
  #   33: "乱建_33"
  #   34: "乱建_34"
  #   35: "乱建_35"
  names:
    0: "Water Bodies"
    1: "Vegetation"
    2: "Mining Area"
    3: "Debris"
    4: "Industrial Buildings"
    5: "Waterway Facilities"
    6: "Hydraulic Controls"
    7: "Residences"
    8: "Sheds"
    9: "Storage Zones"
    10: "Recreation Areas"

# 目标跟踪配置（推理阶段去重 - 延迟保存策略）
tracking:
  # 是否启用目标跟踪去重（启用后同一目标只保存最优检测）
  enabled: true
  
  # 跟踪器类型:
  #   "bytetrack.yaml"          → 使用 ultralytics 内置默认参数（无需额外文件）
  #   "./config/bytetrack.yaml" → 使用项目本地自定义参数（可调参）
  #   "botsort.yaml"            → 使用 BoT-SORT 跟踪器（更精准，稍慢）
  tracker: "bytetrack.yaml"
  
  # 目标消失多少帧后认定为丢失并保存最优检测
  # 建议值: 离线模式 20-50，实时模式 30-60
  lost_threshold: 30
  
  # 边缘目标质量惩罚系数 (0.0-1.0)
  # 越小越不倾向保存画面边缘的不完整目标
  edge_penalty: 0.3
  
  # 最少出现帧数才保存（过滤闪现误检）
  min_track_frames: 3
  
  # 是否裁剪缓冲帧（true=只缓存目标区域，节省90%内存; false=缓存完整帧）
  crop_buffer: true

# 批处理设置
batch:
  # 批处理大小 (实时模式建议设为1)
  size: 1
  
  # 是否启用批处理 (离线模式可以启用以提高速度)
  enabled: false

# 性能优化
optimization:
  # 是否使用TensorRT加速 (需要安装TensorRT)
  use_tensorrt: false
  
  # 是否使用ONNX Runtime (需要导出ONNX模型)
  use_onnx: false
  
  # 多线程数量
  num_threads: 4
